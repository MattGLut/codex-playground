{% extends "base.html" %}
{% block title %}Account Settings{% endblock %}
{% block content %}
  <div class="account-container">
    <h1>Account Settings</h1>
    <p>Username: {{ username }}</p>
    <div class="toggle-row">
      <label class="switch">
        <input type="checkbox" id="toggle-dark" />
        <span class="slider round"></span>
      </label>
      <span>Dark Mode</span>
    </div>
    <div class="toggle-row">
      <label class="switch">
        <input type="checkbox" id="toggle-detailed" />
        <span class="slider round"></span>
      </label>
      <span>Detailed Forecast</span>
    </div>
  </div>
{% endblock %}
{% block scripts %}
<script>
  function applyDetailedState() {
    const enabled = localStorage.getItem('detailedForecast') === 'true';
    const box = document.getElementById('toggle-detailed');
    if (box) {
      box.checked = enabled;
    }
  }

  applyDetailedState();
  const detailedToggle = document.getElementById('toggle-detailed');
  if (detailedToggle) {
    detailedToggle.addEventListener('change', () => {
      const enabled = detailedToggle.checked;
      localStorage.setItem('detailedForecast', enabled);
    });
  }
</script>
{% endblock %}
